# Грамматика и терминология C# 

В обычном языке основной единицей несущей смысловую нагрузку является предложение. Предложение может состоять из одного или более слов.

В большинстве языков конец повествовательного предложения при написании обозначается точкой.

## Инструкции
В C# аналогом предложения можно назвать инструкцию (**statement**), которая заканчивается точкой с запятой. Например:

```c#
Console.WriteLine("Hello, World.");
```
Инструкцию можно рассматривать как предписание компьютеру выполнить определенное действие. В примере выше это вывести в консоль фразу Hello World.

Следовательно, программа - это совокупность инструкций которые выполняют какую-либо задачу.

Давайте рассмотрим простейшую задачу получения от пользователя двух чисел и затем вывода суммы этих чисел.

```c#
using System.Globalization;

namespace ex0010_sum_of_two;

class Program
{
    static void Main(string[] args)
    {
        Console.InputEncoding = System.Text.Encoding.GetEncoding("utf-16");
        Console.Write("Введите первое число: ");
        var input1 = Console.ReadLine();

        Console.Write("Введите второе число: ");
        var input2 = Console.ReadLine();

        // Преобразуем строки в числа с учетом дробной части
        if (double.TryParse(input1, NumberStyles.Any, CultureInfo.InvariantCulture, out double number1) &&
            double.TryParse(input2, NumberStyles.Any, CultureInfo.InvariantCulture, out double number2))
        {
            double sum = number1 + number2;
            Console.WriteLine($"Сумма чисел: {sum}");
        }
        else
        {
            Console.WriteLine("Некорректный ввод. Пожалуйста, введите числа.");
        }

    }
}
```
Создайте папку episode02. Затем в ней создайте проект ex0010_sum_of_two без операторов верхнего уровня. 

![dotnet new console -h](SumOfTowNumbers01.png){ border-effect="line" }

Запустите VSCode из папки episode02, откройте проект ex0010_sum_of_two и введите приведенный выше код в файл Program.cs.
Практика это всегда полезно. Если забыли как это делается, вернитесь к первому эпизоду.

>Если вы запустите VSCode из папки episode02, то VSCode сам создаст файл решения в который добавит проект ex0010_sum_of_two.
{style="note"}

![dotnet new console -h](SumOfTowNumbers03.png){ border-effect="line" }

Запустите программу. Пример запуска:

![dotnet new console -h](SumOfTowNumbers02.png){ border-effect="line" }

Возможно пока этот пример вам не покажется сильно простым, но сложность здесь может представлять только блок преобразования строки в число.
Как раз мы плавно подходим к понятию блоков кода.

Так же в коде вы видите однострочный комментарий поясняющий, что делает блок кода ниже. О комментариях мы тоже поговорим.

Как видите практически каждая строка заканчивается точкой с запятой. Исключением являются только блоки кода, заключенные
в фигурные скобки.

>В документации по C# на сайте Microsoft, а так же в англоязычных книгах используется слово **[statement](https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/statements/declarations)**,
>которое я перевел как инструкция. На мой взгляд это правильно отражает смысл слова **statement** в контексте программирования.
>В русскоязычных книгах это слово иногда переводят как выражение, или что ещё хуже как оператор.
{style="note"}

## Комментарии
Комментарии поясняют что делает та или иная часть кода. Комментарии не являются частью программы и игнорируются компилятором.
Если сказать простым языком, то это просто пояснительные заметки которые вы оставляете для себя и других программистов.

Комментарии бывают однострочные и многострочные.

Однострочный комментарий начинается с двух символов косой черты: //. И размещается в одной строке.

Многострочный комментарий начинается с символов /* и закачивается символами */, внутри которых размещается текст комментария.

Давайте посмотрим возможный пример. Добавим в нашу программу ещё комментариев.

```c#
using System.Globalization;

namespace ex0010_sum_of_two // боее явно определили пространство имен
{

    class Program
    {
        static void Main(string[] args)
        {
            Console.InputEncoding = System.Text.Encoding.GetEncoding("utf-16"); // устанавливаем кодировку для символов
            Console.Write("Введите первое число: ");
            var input1 = Console.ReadLine();

            Console.Write("Введите второе число: ");
            var input2 = Console.ReadLine();

            /* 
            Проверяем возможность преобразолвания введенных строк в числа с учетом дробной части.
            И если преобразуется без ошибок, то производится преобразование введенных строк в числа,
            затем вычисляется сумма этих чисел и выводится результат.
            */
            if (double.TryParse(input1, NumberStyles.Any, CultureInfo.InvariantCulture, out double number1) &&
                double.TryParse(input2, NumberStyles.Any, CultureInfo.InvariantCulture, out double number2))
            {
                double sum = number1 + number2; // складываем числа
                Console.WriteLine($"Сумма чисел: {sum}"); // выводим результат
            }
            else
            {   // если введенные данные не удалось преобразовать в числа, то выводим сообщение об ошибке
                Console.WriteLine("Некорректный ввод. Пожалуйста, введите числа.");
            }

        }
    }
}
```
>Разные среды разработки могут иметь различные настройки подсветки комментариев.
> Это можно поменять в настройках среды разработки. 
{style="note"}

Комментарии также можно использовать для исключения из выполнения программы инструкций. Это довольно частый приём используемый
при отладке программ. Например:

```c#
using System.Globalization;

namespace ex0010_sum_of_two // более явно определили пространство имен
{

    class Program
    {
        static void Main(string[] args)
        {
            Console.InputEncoding = System.Text.Encoding.GetEncoding("utf-16"); // устанавливаем кодировку для символов
            Console.Write("Введите первое число: ");
            var input1 = Console.ReadLine(); // здесь получаем строку в переменную input1

            Console.Write("Введите второе число: ");
            var input2 = Console.ReadLine(); // здесь получаем строку в переменную input2

            /* 
            Проверяем возможность преобразолвания введенных строк в числа с учетом дробной части.
            И если преобразуется без ошибок, то производится преобразование введенных строк в числа
            которые заносятся в переменные number1 и nuber2. После чего выводится сумма этих переменных.
            */
            if (double.TryParse(input1, NumberStyles.Any, CultureInfo.InvariantCulture, out double number1) &&
                double.TryParse(input2, NumberStyles.Any, CultureInfo.InvariantCulture, out double number2))
            {
                //double sum = number1 + number2; // закомментировали эту строку, так как в принципе она не нужна для правильной работы программы
                Console.WriteLine($"Сумма чисел: {number1 + number2}"); // выводим результат
            }
            else
            {   // если введенные данные не удалось преобразовать в числа, то выводим сообщение об ошибке
                Console.WriteLine("Некорректный ввод. Пожалуйста, введите числа.");
            }

        }
    }
}
```

Как видите здесь мы закомментировали строку

```c#
double sum = number1 + number2;
```
поставив перед ней две косые черты.

И естественно, чтобы программа работала, чуток изменили код, вычисляя сумму прямо в строке вывода чисел.

>Если вы хорошо проектируете код, используя правильные названия переменных, классов и методов, то такой код, в какой-то
>мере является самодокументируемым. Большое количество комментариев, как правило, свидетельствует об очень плохом коде.
{style="note"}

## Блоки
Блоки кода можно сравнить с абзацами. В C# блоки кода заключаются в фигурные скобки: {}.

Блок начинается с объявления, описывающего то, что мы определяем.
Например, блок может определять пространство имен, класс, метод или оператор, такой как if в нашем случае.

Как я говорил, блоки кода определяются открывающей и закрывающей фигурными скобками: {}. После которых НЕ ставится точка с запятой.

Посмотрите пример ниже. Тут, с помощью комментариев, явно описаны начала и концы блоков кода. Так же вы можете видеть, как
чрезмерные комментарии усложняют чтение кода.

```c#
using System.Globalization;

namespace ex0010_sum_of_two // более явно определили пространство имен
{ // начало блока namespace ex0010_sum_of_two

    class Program
    { // начало блока класса Program
        static void Main(string[] args)
        { // начало блока статического метода Main
            Console.InputEncoding = System.Text.Encoding.GetEncoding("utf-16"); // устанавливаем кодировку для символов
            Console.Write("Введите первое число: ");
            var input1 = Console.ReadLine(); // здесь получаем строку в переменную input1

            Console.Write("Введите второе число: ");
            var input2 = Console.ReadLine(); // здесь получаем строку в переменную input2

            /* 
            Проверяем возможность преобразолвания введенных строк в числа с учетом дробной части.
            И если преобразуется без ошибок, то производится преобразование введенных строк в числа
            которые заносятся в переменные number1 и nuber2. После чего выводится сумма этих переменных.
            */
            if (double.TryParse(input1, NumberStyles.Any, CultureInfo.InvariantCulture, out double number1) &&
                double.TryParse(input2, NumberStyles.Any, CultureInfo.InvariantCulture, out double number2))
            { // начало блока положительной проверки оператора if
                //double sum = number1 + number2; // закомментировали эту строку, так как в принципе она не нужна для правильной работы программы
                Console.WriteLine($"Сумма чисел: {number1 + number2}"); // выводим результат
            } // конец блока положительной проверки оператора if
            else
            { // начало блока отрицательной проверки оператора if   
                Console.WriteLine("Некорректный ввод. Пожалуйста, введите числа."); // если введенные данные не удалось преобразовать в числа, то выводим сообщение об ошибке
            } // конец блока отрицательной проверки оператора if 

        } // конец блока статического метода Main
    } // конец блока класса Program
} // конец блока namespace ex0010_sum_of_two
```

Среды разработки имеют возможность сворачивать и разворачивать блоки кода, что бывает очень удобно при редактировании
больших файлов, содержащих сотни строк кода. VSCode и JetBrains используют для этого стрелочки смотрящие вниз и в право,
а Visual Studio значки [-] и [+] или так же стрелочки вниз и вправо в завистимости от версии и настроек.
Эти значки появляются кода вы помещаете курсор к левой границе кода где, как правило, находится нумерация строк.

VSCode

![dotnet new console -h](CodeBlocks01.png){ border-effect="line"  thumbnail="true" width="700" }

JetBrains Rider

![dotnet new console -h](CodeBlocks02.png){ border-effect="line"  thumbnail="true" width="700" }

Visual Studio 2022

![dotnet new console -h](CodeBlocks03.png){ border-effect="line"  thumbnail="true" width="700" }

## Регионы

Регионы позволяют вам самим определить куски кода которые вы можете сворачивать как блоки. 

Для определения начала региона используется ключевое слово `#region`, для определения конца региона - ключевой слово `#endregion`.

Давайте уберем все комментарии из нашего кода и определим блок кода, который хотим сворачивать и разворачивать.

![dotnet new console -h](Region01.png){ border-effect="line"  thumbnail="true" width="700" }

Добавили регион и появилась возможность свернуть указанный кусок кода.

![dotnet new console -h](Region02.png){ border-effect="line"  thumbnail="true" width="700" }

Свернём регион.

![dotnet new console -h](Region03.png){ border-effect="line"  thumbnail="true" width="700" }

Как видите после ключевого слова `#region` так же можно использовать комментарий для описания региона.
